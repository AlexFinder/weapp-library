(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{244:function(t,s,e){"use strict";e.r(s);var a=e(0),r=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._m(1),e("ol",[e("li",[t._v("安装最新版微信小程序开发工具")]),e("li",[t._v("下载"),e("a",{attrs:{href:"https://github.com/imageslr/weapp-library",target:"_blank",rel:"noopener noreferrer"}},[t._v("“在线借书平台”小程序源代码"),e("OutboundLink")],1),t._m(2)]),t._m(3),e("li",[t._v("运行成功")])]),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._m(11),e("p",[t._v("您可参考："),e("router-link",{attrs:{to:"./config.html"}},[t._v("环境配置")])],1)]),t._m(12),e("p",[t._v("本项目提供了"),e("a",{attrs:{href:"https://github.com/imageslr/library-api/tree/master/db/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" .sql 文件"),e("OutboundLink")],1),t._v("，可直接导入数据库。")]),t._m(13),t._m(14),t._m(15),e("p",[t._v("好处是无需改动"),e("code",[t._v("php.ini")]),t._v("，可以参考"),e("a",{attrs:{href:"https://blog.csdn.net/linglongwunv/article/details/5212696",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇博客"),e("OutboundLink")],1),t._v("，步骤如下：")]),t._m(16),t._m(17),t._m(18),e("ol",[e("li",[t._v("下载"),e("a",{attrs:{href:"https://github.com/imageslr/library-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("后台系统源代码"),e("OutboundLink")],1),t._m(19)]),t._m(20),t._m(21),t._m(22),e("li",[t._v("如果想让 URL 更简短，请参考"),e("router-link",{attrs:{to:"./config.html#url-重写"}},[t._v("环境配置-URL重写")])],1)]),t._m(23),e("p",[t._v("本项目采用 "),e("a",{attrs:{href:"https://www.mysubmail.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("SUBMAIL"),e("OutboundLink")],1),t._v(" 发送短信，新用户可以免费发送几十条短信，请参考它的使用文档。")]),t._m(24)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"小程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序","aria-hidden":"true"}},[this._v("#")]),this._v(" 小程序")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("下载"),s("code",[this._v("zip")]),this._v("压缩包并解压")]),s("li",[this._v("或：命令行执行"),s("code",[this._v("git clone https://github.com/imageslr/weapp-library.git")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("打开微信开发者工具→新建项目→选择源码目录→填写"),s("code",[this._v("appid")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 常见问题")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"使用“分类查找”时，点击到某个类别后页面无法继续跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用“分类查找”时，点击到某个类别后页面无法继续跳转","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用“分类查找”时，点击到某个类别后页面无法继续跳转")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("小程序项目没有"),s("code",[this._v("appid")]),this._v("时最多只能跳转五个页面，填写"),s("code",[this._v("appid")]),this._v("后可以跳转十个页面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"点击开发者工具→预览时报错“代码包过大”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点击开发者工具→预览时报错“代码包过大”","aria-hidden":"true"}},[this._v("#")]),this._v(" 点击"),s("code",[this._v("开发者工具→预览")]),this._v("时报错“代码包过大”")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这是因为开发者工具会将当前项目目录的所有未忽略文件都打包。在"),s("code",[this._v("project.config.json")]),this._v("中添加下列字段以忽略无用文件：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-JSON extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{attrs:{class:"token property"}},[t._v('"packOptions"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token property"}},[t._v('"ignore"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{attrs:{class:"token property"}},[t._v('"type"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"file"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{attrs:{class:"token property"}},[t._v('"value"')]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"./ui.png"')]),t._v("\n  "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"后端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后端","aria-hidden":"true"}},[this._v("#")]),this._v(" 后端")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("服务器推荐配置：Linux + Nginx + MySQL + PHP 7.0")]),s("li",[s("strong",[this._v("必须")]),this._v("：PHP 7.0 以上 + 安装 Composer")]),s("li",[s("strong",[this._v("必须")]),this._v("：HTTPS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"创建数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建数据库")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"phpmyadmin-导入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#phpmyadmin-导入","aria-hidden":"true"}},[this._v("#")]),this._v(" phpMyAdmin 导入")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("phpMyAdmin 可能无法导入 2M 以上的文件，需修改"),s("code",[this._v("php.ini")]),this._v("->"),s("code",[this._v("upload_max_size")]),this._v("为 20M 以上，然后重启"),s("code",[this._v("php-fpm")]),this._v("使配置生效。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"命令行导入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行导入","aria-hidden":"true"}},[this._v("#")]),this._v(" 命令行导入")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("将"),s("code",[this._v(".sql")]),this._v("文件上传至服务器")]),s("li",[this._v("从命令行启动 mysql")]),s("li",[this._v("执行以下语句")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" mysqld \n"),e("span",{attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("database")]),t._v(" table_name"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" （注意分号）\n"),e("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" table_name"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsource "),e("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("path"),e("span",{attrs:{class:"token operator"}},[t._v("/")]),e("span",{attrs:{class:"token keyword"}},[t._v("to")]),e("span",{attrs:{class:"token operator"}},[t._v("/")]),e("span",{attrs:{class:"token keyword"}},[t._v("sql")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("sql")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"安装项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装项目","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装项目")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("下载"),s("code",[this._v("zip")]),this._v("压缩包并解压")]),s("li",[this._v("或：命令行执行"),s("code",[this._v("git clone https://github.com/imageslr/library-api.git")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("在源代码根目录运行："),s("code",[this._v("composer install")]),this._v("安装依赖，请确保您已全局安装 Composer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("配置数据库信息："),s("code",[this._v("/bootstrap/configuration.php")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("访问以下路径，测试后台应用程序是否安装成功：\n"),s("code",[this._v("https://your-domain.com/path/to/library-api/public/index.php/books/1000")]),s("br"),this._v("\n其中"),s("code",[this._v("/path/to/library-api")]),this._v("是项目根目录所在的公共位置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"短信发送"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#短信发送","aria-hidden":"true"}},[this._v("#")]),this._v(" 短信发送")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("你需要修改"),e("code",[t._v("/app/Helpers/Message.php")]),t._v("的第 91 行、92 行，改成自己的"),e("code",[t._v("appid")]),t._v("、"),e("code",[t._v("signature")]),t._v("（即 SUBMAIL 中的"),e("code",[t._v("APPKEY")]),t._v("）。对于每个短信模板，需要设置自己的模板ID"),e("code",[t._v("$project")]),t._v("与参数。")])}],!1,null,null,null);s.default=r.exports}}]);